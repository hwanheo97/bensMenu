{"ast":null,"code":"var _jsxFileName = \"C:\\\\boilerplate-mern-stack-master\\\\client\\\\src\\\\components\\\\views\\\\CartPage\\\\CartPage.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { getCartItems } from '../../../_actions/user_actions';\nimport UserCardBlock from './Sections/UserCardBlock';\n\nfunction CartPage(props) {\n  const dispatch = useDispatch();\n  const [Total, setTotal] = useState(0);\n  useEffect(() => {\n    let cartItems = []; //redux User state안에 cart안에 상품이 들어있는 지 확인\n\n    if (props.user.userData && props.user.userData.cart) {\n      if (props.user.userData.cart.length > 0) {\n        props.user.userData.cart.forEach(item => {\n          cartItems.push(item.id);\n        });\n        dispatch(getCartItems(cartItems, props.user.userData.cart)).then(response => {\n          calculateTotal(response.payload);\n        });\n      }\n    }\n  }, [props.user.userData]);\n\n  let calculateTotal = cartDetail => {\n    let total = 0;\n    cartDetail.map(item => total += parseInt(item.price, 10) * item.quantity);\n    setTotal(total);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '85%',\n      margin: '3rem auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, \"My Cart \"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, \"CartPage\", /*#__PURE__*/React.createElement(UserCardBlock, {\n    products: props.user.cartDetail && props.user.cartDetail.product,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: '3rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, \"Total Amount : $\", Total)));\n}\n\nexport default CartPage;","map":{"version":3,"sources":["C:/boilerplate-mern-stack-master/client/src/components/views/CartPage/CartPage.js"],"names":["React","useEffect","useState","useDispatch","getCartItems","UserCardBlock","CartPage","props","dispatch","Total","setTotal","cartItems","user","userData","cart","length","forEach","item","push","id","then","response","calculateTotal","payload","cartDetail","total","map","parseInt","price","quantity","width","margin","product","marginTop"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAA0C,OAA1C;AACA,SAAQC,WAAR,QAA0B,aAA1B;AACA,SAAQC,YAAR,QAA2B,gCAA3B;AACA,OAAOC,aAAP,MAA0B,0BAA1B;;AAEA,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AAEvB,QAAMC,QAAQ,GAAGL,WAAW,EAA5B;AAEA,QAAM,CAACM,KAAD,EAAOC,QAAP,IAAkBR,QAAQ,CAAC,CAAD,CAAhC;AAEAD,EAAAA,SAAS,CAAC,MAAK;AAEb,QAAIU,SAAS,GAAG,EAAhB,CAFa,CAIb;;AACA,QAAGJ,KAAK,CAACK,IAAN,CAAWC,QAAX,IAAuBN,KAAK,CAACK,IAAN,CAAWC,QAAX,CAAoBC,IAA9C,EAAmD;AAC/C,UAAGP,KAAK,CAACK,IAAN,CAAWC,QAAX,CAAoBC,IAApB,CAAyBC,MAAzB,GAAkC,CAArC,EAAuC;AACrCR,QAAAA,KAAK,CAACK,IAAN,CAAWC,QAAX,CAAoBC,IAApB,CAAyBE,OAAzB,CAAiCC,IAAI,IAAI;AACrCN,UAAAA,SAAS,CAACO,IAAV,CAAeD,IAAI,CAACE,EAApB;AACH,SAFD;AAGAX,QAAAA,QAAQ,CAACJ,YAAY,CAACO,SAAD,EAAYJ,KAAK,CAACK,IAAN,CAAWC,QAAX,CAAoBC,IAAhC,CAAb,CAAR,CACGM,IADH,CACQC,QAAQ,IAAI;AAACC,UAAAA,cAAc,CAACD,QAAQ,CAACE,OAAV,CAAd;AAAiC,SADtD;AAEF;AACH;AACF,GAdQ,EAcP,CAAChB,KAAK,CAACK,IAAN,CAAWC,QAAZ,CAdO,CAAT;;AAgBA,MAAIS,cAAc,GAAIE,UAAD,IAAgB;AACnC,QAAIC,KAAK,GAAG,CAAZ;AAEAD,IAAAA,UAAU,CAACE,GAAX,CAAeT,IAAI,IACjBQ,KAAK,IAAIE,QAAQ,CAACV,IAAI,CAACW,KAAN,EAAY,EAAZ,CAAR,GAA0BX,IAAI,CAACY,QAD1C;AAGEnB,IAAAA,QAAQ,CAACe,KAAD,CAAR;AACH,GAPD;;AASA,sBACE;AAAK,IAAA,KAAK,EAAE;AAACK,MAAAA,KAAK,EAAC,KAAP;AAAcC,MAAAA,MAAM,EAAC;AAArB,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAEE,oBAAC,aAAD;AAAe,IAAA,QAAQ,EAAExB,KAAK,CAACK,IAAN,CAAWY,UAAX,IAA0BjB,KAAK,CAACK,IAAN,CAAWY,UAAX,CAAsBQ,OAAzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAFJ,eAQI;AAAK,IAAA,KAAK,EAAE;AAACC,MAAAA,SAAS,EAAC;AAAX,KAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAqBxB,KAArB,CADF,CARJ,CADF;AAeD;;AAED,eAAeH,QAAf","sourcesContent":["import React, {useEffect, useState } from 'react'\r\nimport {useDispatch} from 'react-redux';\r\nimport {getCartItems} from '../../../_actions/user_actions';\r\nimport UserCardBlock from './Sections/UserCardBlock';\r\n\r\nfunction CartPage(props) {\r\n \r\n  const dispatch = useDispatch();\r\n\r\n  const [Total,setTotal] =useState(0)\r\n  \r\n  useEffect(() =>{\r\n   \r\n    let cartItems = []\r\n\r\n    //redux User state안에 cart안에 상품이 들어있는 지 확인\r\n    if(props.user.userData && props.user.userData.cart){\r\n        if(props.user.userData.cart.length > 0){\r\n          props.user.userData.cart.forEach(item => {\r\n              cartItems.push(item.id)\r\n          })\r\n          dispatch(getCartItems(cartItems, props.user.userData.cart))\r\n            .then(response => {calculateTotal(response.payload)})\r\n       }\r\n    }\r\n  },[props.user.userData])\r\n\r\n  let calculateTotal = (cartDetail) => {\r\n    let total = 0;\r\n\r\n    cartDetail.map(item => (\r\n      total += parseInt(item.price,10) * item.quantity\r\n    ))\r\n      setTotal(total)\r\n  }\r\n  \r\n  return (\r\n    <div style={{width:'85%', margin:'3rem auto'}}>\r\n        <h1>My Cart </h1>\r\n        <div>\r\n          CartPage\r\n          <UserCardBlock products={props.user.cartDetail  && props.user.cartDetail.product}/>\r\n          {/* //3)redux 간단하게 product.js수정경우  && props.user.cartDetail.product 없애도 됨 */}\r\n        </div>\r\n          {/* //합계금액 UI만들기 */}\r\n        <div style={{marginTop:'3rem'}}>\r\n          <h2>Total Amount : ${Total}</h2>\r\n        </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CartPage\r\n"]},"metadata":{},"sourceType":"module"}